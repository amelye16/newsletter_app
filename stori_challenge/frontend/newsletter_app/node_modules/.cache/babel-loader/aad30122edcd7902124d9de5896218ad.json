{"ast":null,"code":"//import Axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { API_BASE_URL } from \"../config\";\nfunction showAlert(icon, details) {\n  Swal.fire({\n    icon: icon,\n    title: details.message,\n    text: details.details\n  });\n}\n\n/*\r\nexport const createNewsletterType = async (nesletterType) => {\r\n  let data = {};\r\n  console.log(nesletterType);\r\n  try {\r\n    let res = await Axios.post(\"/newsletterType\", nesletterType);\r\n    data = res.data;\r\n    console.log(res);\r\n    console.log(data);\r\n    showAlert(\"success\", data);\r\n  } catch (error) {\r\n    if( data.length === 0 ) {\r\n        const errorException = {\r\n          message: \"We have a problem\",\r\n          details: error.message,          \r\n        };\r\n            showAlert(\"error\", errorException);\r\n      }\r\n      else\r\n        showAlert(\"error\", data);\r\n  }\r\n};*/\n\nexport const createNewsletterType = async nesletterType => {\n  try {\n    const url = `${API_BASE_URL}/newsletterType`;\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: nesletterType\n    });\n    const data = await response.json();\n    console.log(data);\n    if (response.ok) showAlert(\"success\", data);else showAlert(\"error\", data);\n  } catch (error) {\n    const errorException = {\n      message: \"We have a problem\",\n      details: error.message\n    };\n    showAlert(\"error\", errorException);\n  }\n};\nexport const getAllNewsletterType = async () => {\n  try {\n    const url = `${API_BASE_URL}/newsletterType`;\n    const response = await fetch(url, {\n      method: \"GET\"\n      /* headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: nesletterType,*/\n    });\n\n    const data = await response.json();\n    console.log(data);\n    // if (response.ok) showAlert(\"success\", data);\n    // else showAlert(\"error\", data);\n  } catch (error) {\n    const errorException = {\n      message: \"We have a problem\",\n      details: error.message\n    };\n    showAlert(\"error\", errorException);\n  }\n};","map":{"version":3,"names":["Swal","API_BASE_URL","showAlert","icon","details","fire","title","message","text","createNewsletterType","nesletterType","url","response","fetch","method","headers","Accept","body","data","json","console","log","ok","error","errorException","getAllNewsletterType"],"sources":["C:/Users/L03028948/Documents/Documentos Idalia/Stori Challenge/Frontend/newsletter_app/src/herpers/ServiceHandler.jsx"],"sourcesContent":["//import Axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport { API_BASE_URL } from \"../config\";\r\n\r\nfunction showAlert(icon, details) {\r\n  Swal.fire({\r\n    icon: icon,\r\n    title: details.message,\r\n    text: details.details,\r\n  });\r\n}\r\n\r\n/*\r\nexport const createNewsletterType = async (nesletterType) => {\r\n  let data = {};\r\n  console.log(nesletterType);\r\n  try {\r\n    let res = await Axios.post(\"/newsletterType\", nesletterType);\r\n    data = res.data;\r\n    console.log(res);\r\n    console.log(data);\r\n    showAlert(\"success\", data);\r\n  } catch (error) {\r\n    if( data.length === 0 ) {\r\n        const errorException = {\r\n          message: \"We have a problem\",\r\n          details: error.message,          \r\n        };\r\n            showAlert(\"error\", errorException);\r\n      }\r\n      else\r\n        showAlert(\"error\", data);\r\n  }\r\n};*/\r\n\r\nexport const createNewsletterType = async (nesletterType) => {\r\n  try {\r\n    const url = `${API_BASE_URL}/newsletterType`;\r\n    const response = await fetch(url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: nesletterType,\r\n    });\r\n    const data = await response.json();\r\n\r\n    console.log(data);\r\n    if (response.ok) showAlert(\"success\", data);\r\n    else showAlert(\"error\", data);\r\n  } catch (error) {\r\n    const errorException = {\r\n      message: \"We have a problem\",\r\n      details: error.message,\r\n    };\r\n    showAlert(\"error\", errorException);\r\n  }\r\n};\r\n\r\nexport const getAllNewsletterType = async () => {\r\n  try {\r\n    const url = `${API_BASE_URL}/newsletterType`;\r\n    const response = await fetch(url, {\r\n      method: \"GET\",\r\n    /* headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: nesletterType,*/\r\n    });\r\n    const data = await response.json();\r\n\r\n    console.log(data);\r\n   // if (response.ok) showAlert(\"success\", data);\r\n   // else showAlert(\"error\", data);\r\n  } catch (error) {\r\n    const errorException = {\r\n      message: \"We have a problem\",\r\n      details: error.message,\r\n    };\r\n    showAlert(\"error\", errorException);\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA,OAAOA,IAAI,MAAM,aAAa;AAC9B,SAASC,YAAY,QAAQ,WAAW;AAExC,SAASC,SAAS,CAACC,IAAI,EAAEC,OAAO,EAAE;EAChCJ,IAAI,CAACK,IAAI,CAAC;IACRF,IAAI,EAAEA,IAAI;IACVG,KAAK,EAAEF,OAAO,CAACG,OAAO;IACtBC,IAAI,EAAEJ,OAAO,CAACA;EAChB,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMK,oBAAoB,GAAG,MAAOC,aAAa,IAAK;EAC3D,IAAI;IACF,MAAMC,GAAG,GAAI,GAAEV,YAAa,iBAAgB;IAC5C,MAAMW,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;MAChCG,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACPC,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEP;IACR,CAAC,CAAC;IACF,MAAMQ,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,EAAE;IAElCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;IACjB,IAAIN,QAAQ,CAACU,EAAE,EAAEpB,SAAS,CAAC,SAAS,EAAEgB,IAAI,CAAC,CAAC,KACvChB,SAAS,CAAC,OAAO,EAAEgB,IAAI,CAAC;EAC/B,CAAC,CAAC,OAAOK,KAAK,EAAE;IACd,MAAMC,cAAc,GAAG;MACrBjB,OAAO,EAAE,mBAAmB;MAC5BH,OAAO,EAAEmB,KAAK,CAAChB;IACjB,CAAC;IACDL,SAAS,CAAC,OAAO,EAAEsB,cAAc,CAAC;EACpC;AACF,CAAC;AAED,OAAO,MAAMC,oBAAoB,GAAG,YAAY;EAC9C,IAAI;IACF,MAAMd,GAAG,GAAI,GAAEV,YAAa,iBAAgB;IAC5C,MAAMW,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;MAChCG,MAAM,EAAE;MACV;AACJ;AACA;AACA;AACA;IACI,CAAC,CAAC;;IACF,MAAMI,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,EAAE;IAElCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;IAClB;IACA;EACD,CAAC,CAAC,OAAOK,KAAK,EAAE;IACd,MAAMC,cAAc,GAAG;MACrBjB,OAAO,EAAE,mBAAmB;MAC5BH,OAAO,EAAEmB,KAAK,CAAChB;IACjB,CAAC;IACDL,SAAS,CAAC,OAAO,EAAEsB,cAAc,CAAC;EACpC;AACF,CAAC"},"metadata":{},"sourceType":"module"}